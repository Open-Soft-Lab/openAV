<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OPEN-AV | Продвинутый антивирусный сканер</title>
    <style>
        /* Общие стили */
        body {
            font-family: 'Arial', sans-serif;
            background-color: #1e1e2f; /* Тёмный фон */
            color: #e0e0e0; /* Светлый текст */
            margin: 0;
            padding: 0;
            line-height: 1.6;
        }

        h1, h2, h3 {
            color: #ffffff; /* Белый заголовок */
        }

        a {
            color: #00bcd4; /* Цвет ссылок */
            text-decoration: none;
            transition: color 0.3s ease;
        }

        a:hover {
            color: #0097a7; /* Цвет ссылок при наведении */
        }

        /* Контейнер */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Шапка */
        header {
            text-align: center;
            padding: 50px 0;
            background-color: #2a2a3f; /* Тёмный фон шапки */
            border-bottom: 2px solid #3e3e5f;
        }

        header h1 {
            font-size: 3rem;
            margin-bottom: 10px;
        }

        header p {
            font-size: 1.2rem;
            color: #a0a0a0;
        }

        /* Навигация */
        nav {
            display: flex;
            justify-content: center;
            background-color: #2a2a3f;
            padding: 10px;
            margin-bottom: 20px;
        }

        nav a {
            margin: 0 15px;
            padding: 10px 20px;
            background-color: #007bff;
            color: white;
            border-radius: 5px;
            transition: background-color 0.3s ease, transform 0.2s ease;
        }

        nav a:hover {
            background-color: #0056b3;
            transform: scale(1.05);
        }

        /* Секции */
        section {
            margin: 40px 0;
            padding: 20px;
            background-color: #2a2a3f; /* Тёмный фон секций */
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }

        section h2 {
            font-size: 2rem;
            margin-bottom: 20px;
            color: #00bcd4; /* Акцентный цвет */
        }

        section p {
            font-size: 1.1rem;
            margin-bottom: 20px;
        }

        section ul {
            list-style-type: none;
            padding: 0;
        }

        section ul li {
            background-color: #3a3a5f; /* Фон пунктов списка */
            margin: 10px 0;
            padding: 15px;
            border-radius: 5px;
            transition: background-color 0.3s ease;
        }

        section ul li:hover {
            background-color: #4a4a6f; /* Подсветка пунктов списка */
        }

        /* Таблица хэшей */
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            background-color: #2a2a3f;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }

        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #3e3e5f;
        }

        th {
            background-color: #3a3a5f;
            color: #ffffff;
            font-weight: bold;
        }

        tr:hover {
            background-color: #3e3e5f;
        }

        /* Кнопки в базе данных */
        .button-container {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-bottom: 20px;
        }

        .btn {
            padding: 10px 20px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s ease;
        }

        .btn:hover {
            background-color: #0056b3;
        }

        /* Скрытие и отображение разделов */
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <!-- Шапка -->
    <header>
        <div class="container">
            <h1>OPEN-AV</h1>
            <p>Исходный код: https://github.com/Open-Soft-Lab/open-antivirus</p>
            <p>Telegram: https://t.me/anarhist_life</p>
            <p>Поддержка: https://t.me/Cloveranar</p>
            </div>
    </header>

    <!-- Навигация -->
    <nav>
        <a href="#" id="home-link">Главная</a>
        <a href="#" id="hash-database-link">База данных</a>
    </nav>

    <!-- Основной контент -->
    <div class="container">
        <!-- Секция "Главная" -->
        <section id="home-section">
            <h2>О проекте OPEN-AV</h2>
            <p>OPEN-AV — Антивирусный сканер с открытым исходным кдом и возможностью загрузки пользовательских баз сигнатур.</p>
            <h3>Функции</h3>
            <ul>
                <li>Многоуровневое сканирование (MD5, SHA-1, SHA-256).</li>
                <li>Гибкие исключения для файлов и папок.</li>
                <li>Поддержка пользовательских сигнатур.</li>
                <li>Логирование всех обнаруженных угроз.</li>
            </ul>
            <h3>Преимущества</h3>
            <ul>
                <li>Высокая точность обнаружения.</li>
                <li>Простота использования.</li>
                <li>Безопасность и конфиденциальность.</li>
            </ul>
        </section>

        <!-- Секция "База хэшей" -->
        <section id="hash-database-section" class="hidden">
            <h2>База данных вирусных хэшей</h2>
            <div class="button-container">
                <button class="btn" id="showMd5">Показать MD5</button>
                <button class="btn" id="showSha1">Показать SHA-1</button>
                <button class="btn" id="showSha256">Показать SHA-256</button>
                <button class="btn" id="downloadHashes">Скачать хэши в формате JSON</button>
            </div>
            <table id="hashTable">
                <thead>
                    <tr>
                        <th>Хэш</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Данные будут добавлены с помощью JavaScript -->
                </tbody>
            </table>
        </section>
    </div>

    <!-- Подвал -->
    <footer>
        <div class="container">
            <p>&copy; 2023 OPEN-AV. Все права защищены.</p>
        </div>
    </footer>

    <script>
        // Переменная для хранения текущих хэшей
        let currentHashes = [];
        let currentMode = 'md5'; // Текущий режим (md5, sha1, sha256)

        // Функция для очистки строки от лишних частей
        function cleanHash(hash) {
            return hash
                .replace('https://', '') // Убираем "https://"
                .replace('bazaar.abuse.ch/sample/', '') // Убираем "bazaar.abuse.ch/sample/"
                .replace(/\/$/, ''); // Убираем "/" в конце
        }

        // Загрузка и отображение хэшей
        async function loadAndShowHashes(type) {
            currentMode = type;
            const response = await fetch(`${type}.txt`); // Загружаем файл
            const text = await response.text(); // Читаем текст
            currentHashes = text
                .trim() // Убираем лишние пробелы
                .split('\n') // Разделяем по строкам
                .map(line => line.trim()) // Убираем пробелы вокруг каждой строки
                .filter(line => line.length > 0); // Убираем пустые строки

            const tbody = document.querySelector('#hashTable tbody');
            tbody.innerHTML = ''; // Очищаем таблицу перед заполнением

            currentHashes.forEach(hash => {
                const row = document.createElement('tr');
                const cell = document.createElement('td');

                if (type === 'sha256') {
                    // Очищаем строку от лишних частей
                    const displayText = cleanHash(hash);
                    if (displayText.length === 64) {
                        // Если это валидный SHA-256 хэш, создаем ссылку
                        const link = document.createElement('a');
                        link.href = `https://bazaar.abuse.ch/sample/${displayText}/`;
                        link.textContent = displayText;
                        link.target = '_blank';
                        cell.appendChild(link);
                    } else {
                        // Если это не хэш, а что-то другое, отображаем как текст
                        cell.textContent = displayText;
                    }
                } else {
                    // Для MD5 и SHA-1 просто текст
                    cell.textContent = hash;
                }

                row.appendChild(cell);
                tbody.appendChild(row);
            });
        }

        // Скачивание хэшей в формате JSON
        document.getElementById('downloadHashes').addEventListener('click', () => {
            // Очищаем хэши перед сохранением в JSON
            const cleanedHashes = currentHashes.map(hash => cleanHash(hash));
            const json = JSON.stringify(cleanedHashes, null, 2); // Преобразуем в JSON
            const blob = new Blob([json], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `${currentMode}_hashes.json`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        });

        // Обработчики кнопок
        document.getElementById('showMd5').addEventListener('click', () => loadAndShowHashes('md5'));
        document.getElementById('showSha1').addEventListener('click', () => loadAndShowHashes('sha1'));
        document.getElementById('showSha256').addEventListener('click', () => loadAndShowHashes('sha256'));

        // Переключение между разделами
        const homeSection = document.getElementById('home-section');
        const hashSection = document.getElementById('hash-database-section');
        const homeLink = document.getElementById('home-link');
        const hashLink = document.getElementById('hash-database-link');

        homeLink.addEventListener('click', (e) => {
            e.preventDefault();
            homeSection.classList.remove('hidden');
            hashSection.classList.add('hidden');
        });

        hashLink.addEventListener('click', (e) => {
            e.preventDefault();
            homeSection.classList.add('hidden');
            hashSection.classList.remove('hidden');
        });

        // Инициализация: загружаем MD5 хэши при загрузке страницы
        loadAndShowHashes('md5');
    </script>
</body>
</html>